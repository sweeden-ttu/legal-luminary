---
layout: null
permalink: /sitemap.xml
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">

  {%- comment -%}
  This sitemap is intentionally filtered to only include blog posts from the last 365 days.
  Older posts (e.g., 2020 template/example posts) remain in the repo but are excluded.

  We still keep `jekyll-sitemap` enabled so future automation/metadata stays compatible,
  but this file is the canonical `/sitemap.xml` output.
  {%- endcomment -%}

  {%- assign now_ts = 'now' | date: '%s' | plus: 0 -%}
  {%- assign cutoff_ts = now_ts | minus: 31536000 -%}

  {%- comment -%} Pages (exclude 404 + any page explicitly marked sitemap:false) {%- endcomment -%}
  {%- for page in site.pages -%}
    {%- assign loc_url = page.url -%}
    {%- if loc_url == '/archive' -%}{%- assign loc_url = '/archive/' -%}{%- endif -%}
    {%- if loc_url and loc_url != '/404.html' and page.sitemap != false and loc_url != '/feed.xml' and loc_url != '/sitemap.xml' -%}
  <url>
    <loc>{{ loc_url | absolute_url }}</loc>
    <changefreq>{{ page.changefreq | default: 'monthly' }}</changefreq>
    <priority>{{ page.priority | default: '0.6' }}</priority>
  </url>
    {%- endif -%}
  {%- endfor -%}

  {%- comment -%} Posts within last year only {%- endcomment -%}
  {%- for post in site.posts -%}
    {%- assign post_ts = post.date | date: '%s' | plus: 0 -%}
    {%- if post_ts >= cutoff_ts -%}
  <url>
    <loc>{{ post.url | absolute_url }}</loc>
    <lastmod>{{ post.last_modified_at | default: post.date | date_to_xmlschema }}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
    {%- endif -%}
  {%- endfor -%}
</urlset>
